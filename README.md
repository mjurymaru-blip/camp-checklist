# 🏕️ Camp Checklist - キャンプ持ち物チェック

キャンプの持ち物を管理するためのPWA（Progressive Web App）です。
オフラインでも使用でき、スマートフォンにインストールして使えます。

## ✨ 機能

- **チェックリスト管理**: キャンプごとに持ち物リストを作成・管理
- **プリセットテンプレート**: ソロ / デュオ / ファミリー用のテンプレートから簡単にリスト作成
- **カテゴリ分類**: テント・寝具・調理器具・食材などカテゴリ別に整理
- **ドラッグ&ドロップ**: アイテムの並び順を直感的に変更可能
- **データバックアップ**: JSONファイルでのエクスポート/インポート機能
- **履歴管理**: 過去のキャンプリストをアーカイブとして保存
- **PWA対応**: オフライン利用、ホーム画面への追加が可能
- **AIメニュー提案**: Gemini AIが手持ちのギアと季節に合わせてレシピを提案

## 🚀 デモ

GitHub Pages: https://mjurymaru-blip.github.io/camp-checklist/

## 📲 スマートフォンへのインストール

PWAとしてホーム画面に追加できます。

**Android (Chrome)**
1. 上記デモURLを開く
2. ブラウザメニュー（⋮）→「ホーム画面に追加」

**iPhone (Safari)**
1. 上記デモURLを開く
2. 共有ボタン（□↑）→「ホーム画面に追加」

インストール後はオフラインでも使用できます。

## 🛠️ 技術スタック

- React 18 + TypeScript
- Vite
- Zustand（状態管理）
- React Router
- @dnd-kit（ドラッグ&ドロップ）

## 📦 開発者向け

```bash
# 依存関係のインストール
npm install

# 開発サーバー起動
npm run dev

# 本番ビルド
npm run build
# 本番ビルド
npm run build
```

### 📂 レシピデータ構造
レシピデータは `public/recipes/` ディレクトリに分離されており、コードの変更なしにデータの更新が可能です。

```
public/recipes/
├── index.json       # 全レシピファイルのリスト
├── seafood.json     # シーフード系レシピ
├── meat.json        # 肉料理レシピ
└── ...
```

## 📱 使い方

### 基本操作

1. **新しいチェックリストを作成**: リスト画面の「＋」ボタンから作成
2. **テンプレートを選択**: ソロ / デュオ / ファミリーから選んですぐに開始
3. **アイテムをチェック**: キャンプ準備でアイテムをタップしてチェック
4. **並び替え**: アイテムをドラッグして好きな順番に変更
5. **バックアップ**: 設定画面からデータをJSONファイルに保存

### 便利な機能

#### リストからテンプレートを作成
自分用にカスタマイズしたリストをテンプレートとして保存できます。

1. チェックリスト画面で右上の「⋮」（三点メニュー）をタップ
2. 「📋 テンプレートとして保存」を選択
3. テンプレート名を入力して保存

#### 全選択 / 全解除
チェックリスト画面の「⋮」メニューから、全てのアイテムを一括でチェック/解除できます。

#### アイテムの編集・削除
アイテムをタップすると編集モードになり、名前・数量の変更や削除ができます。

#### テンプレートの共有
- **エクスポート**: テンプレート一覧で📤ボタン → JSONファイルをダウンロード
- **インポート**: テンプレート一覧で📥ボタン → JSONファイルを選択

#### 履歴リストの再利用
履歴タブのリストを開いて「🔄 再利用」をタップすると、リスト画面に戻せます。

#### 簡易スナップショット
設定画面でブラウザ内にデータを一時保存できます。誤操作時に素早く復元可能です。

> ⚠️ ブラウザのキャッシュ削除で消えます。確実な保存は「ファイルに保存」をご利用ください。

### 🍳 AIメニュー提案（Beta）

Gemini APIを利用して、あなたの状況（人数・季節など）と手持ちのギアに最適なキャンプ飯を提案します。

#### ✨ 特徴
- **スマート2段階提案**: まず「メインの料理（夕食など）」を決め、それに合わせて食材や道具を使い回せるフルコース（朝/昼/つまみ）をAIが組み立てます。
- **柔軟な提案モード**: 夕食のフルコース提案だけでなく、朝食や昼食の「単品提案」も可能です。
- **レシピ検索 & フィルタ**: 内蔵レシピ（約250件）から季節や難易度で検索可能。APIキーなしでも閲覧できます。
- **ギアの考慮**: 「ダッチオーブンはあるけどスキレットはない」といった所持状況に合わせてレシピを選定します。
- **自動リトライ**: サーバー混雑時も自動で再接続を行い、安定した提案を実現します。

#### 🔑 利用方法
1. **APIキーの取得**: [Google AI Studio](https://aistudio.google.com/app/apikey) から無料のAPIキーを取得します。
2. **アプリ設定**: アプリの「レシピ」タブ → ⚙️設定からキーを入力します。
    - **モデル選択**: 自動で利用可能なモデル一覧を取得し、最適なモデル（`gemini-2.0-flash` など）を選択します。
    > [!IMPORTANT]
    > **セキュリティ上の注意**
    > APIキーはブラウザの `localStorage` にのみ保存され、外部サーバーには送信されません。
    > **ただし、ご自身のフォークリポジトリ等で設定を含んだバックアップデータをコミットしないよう十分ご注意ください。**

3. **提案**: 「レシピ」タブで人数や気分を選び、「提案してもらう」をタップ！
4. **検索**: APIキーがない場合でも、条件を指定すれば内蔵レシピから検索結果を表示します。

※ Gemini Free/Flashモデル（無料枠）で十分に動作します。

## ♿ アクセシビリティ

現在はタッチ操作に最適化しています。キーボード操作やスクリーンリーダー対応は今後の改善予定です。

## 📄 ライセンス

MIT License
